
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Scraping with Python &#8212; Web Scraping with Python</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chrome Scraper Tool" href="01_scraperChrome.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Web Scraping with Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 current">
  <a class="reference internal" href="#">
   Web Scraping with Python
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01_scraperChrome.html">
   Chrome Scraper Tool
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_requests.html">
   Requests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_beautifulSoup.html">
   Beautiful Soup
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_selenium.html">
   Selenium
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/intro.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/jaguillette/python-web-scraping-workshop"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/jaguillette/python-web-scraping-workshop/issues/new?title=Issue%20on%20page%20%2Fintro.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-set-up">
   Getting set up
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#browsers-and-extension">
   Browsers and extension
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#option-1-poetry">
     Option 1: Poetry
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#option-2-pip">
     Option 2: pip
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#option-3-manual-install">
     Option 3: Manual install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selenium">
     Selenium
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#m1-arm-architecture-mac-os-catalina">
     M1 ARM Architecture / Mac OS Catalina
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-these-materials">
   Using these materials
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Web Scraping with Python</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-set-up">
   Getting set up
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#browsers-and-extension">
   Browsers and extension
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#option-1-poetry">
     Option 1: Poetry
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#option-2-pip">
     Option 2: pip
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#option-3-manual-install">
     Option 3: Manual install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selenium">
     Selenium
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#m1-arm-architecture-mac-os-catalina">
     M1 ARM Architecture / Mac OS Catalina
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-these-materials">
   Using these materials
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="web-scraping-with-python">
<h1>Web Scraping with Python<a class="headerlink" href="#web-scraping-with-python" title="Permalink to this headline">¶</a></h1>
<p>This site is a collection of materials for a workshop on web scraping with Python. It’s intended to be used during the workshop, and for participants to reference after the fact. Even if you’re not attending this workshop, you might find it valuable to go through the code examples on your own, just know that that’s not the primary purpose of the materials.</p>
<div class="section" id="getting-set-up">
<h2>Getting set up<a class="headerlink" href="#getting-set-up" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="browsers-and-extension">
<h2>Browsers and extension<a class="headerlink" href="#browsers-and-extension" title="Permalink to this headline">¶</a></h2>
<p>In this workshop, we’ll be using both the <a class="reference external" href="https://www.google.com/chrome/">Chrome</a> and <a class="reference external" href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a> browsers, so you’ll need both to follow along. In addition to the browsers, you’ll also need an addon for Chrome called <a class="reference external" href="https://chrome.google.com/webstore/detail/scraper/mbigbapnjcgaffohmbkdlecaccepngjd">Scraper</a>.</p>
<p>The materials here require Python 3.8+, as well as a number of libraries. There are a few different ways to make sure that you have all of the dependencies set up. For any of them, it’s best if you download or clone the <a class="reference external" href="https://github.com/jaguillette/python-web-scraping-workshop">repository for this site</a>. All of the files for the contents of the workshop are in the <code class="docutils literal notranslate"><span class="pre">book</span></code> directory of the repository, but downloading the repository will also give you the setup information outside of that repository.</p>
<div class="section" id="option-1-poetry">
<h3>Option 1: Poetry<a class="headerlink" href="#option-1-poetry" title="Permalink to this headline">¶</a></h3>
<p>I’m using poetry to manage my environment for this workshop, to make sure that I have an accurate list of what libraries are required for you to run my code. If you want to do the same, you can <a class="reference external" href="https://python-poetry.org/docs/">install poetry</a>, then run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">install</span></code> in your terminal the directory where you saved this repository. That will create a virtual environment that matches mine.</p>
<p>You still need to activate the environment after creating it. There are <a class="reference external" href="https://python-poetry.org/docs/basic-usage/#using-your-virtual-environment">a few options for activating your environment</a>, but I prefer running this command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>poetry shell
</pre></div>
</div>
<p>If you’re on Windows, <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">shell</span></code> might be the best option, although I find that the best way to use Python in Windows is to use the <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/about">Windows subsystem for Linux</a>. That isn’t required for this workshop by any means, but it’s worth checking out if you’re using Windows and tired of it being weird for coding.</p>
</div>
<div class="section" id="option-2-pip">
<h3>Option 2: pip<a class="headerlink" href="#option-2-pip" title="Permalink to this headline">¶</a></h3>
<p>If you’re more comfortable with pip, or just don’t want to get set up with <code class="docutils literal notranslate"><span class="pre">poetry</span></code>, I’ve included a <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> as well. Running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements.txt</span></code> in the directory where you saved the workshop materials should also get your dependencies set up.</p>
</div>
<div class="section" id="option-3-manual-install">
<h3>Option 3: Manual install<a class="headerlink" href="#option-3-manual-install" title="Permalink to this headline">¶</a></h3>
<p>If you don’t want to do any of that, here’s just a list of the libraries to install, that you can do with as you please. This is the method that’s most likely to run into version conflicts, but as long as your Python version is more recent than 3.8, you should be okay. Hopefully.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>requests
beautifulsoup4
jupyterlab
pandas
selenium
</pre></div>
</div>
</div>
<div class="section" id="selenium">
<h3>Selenium<a class="headerlink" href="#selenium" title="Permalink to this headline">¶</a></h3>
<p>The last part of the workshop uses the <code class="docutils literal notranslate"><span class="pre">selenium</span></code> library, and is set up to use Firefox’s <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> to make a Python-controlled browser. In order to make that work, you’ll need to <a class="reference external" href="https://www.mozilla.org/en-US/firefox/new/">install Firefox</a> if you don’t already have it, and then set up <a class="reference external" href="https://github.com/mozilla/geckodriver/">geckodriver</a>.</p>
<p>To set up geckodriver, you’ll need to download and decompress the appropriate version for your OS from the <a class="reference external" href="https://github.com/mozilla/geckodriver/releases">geckodriver releases page</a>. That will give you a <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> file, which needs to be in a location on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. A simple way to do this is to run <code class="docutils literal notranslate"><span class="pre">printenv</span> <span class="pre">PATH</span></code> on Mac/Linux or <code class="docutils literal notranslate"><span class="pre">PATH</span></code> in a Windows terminal. That will give you a list of locations already on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>, so you can just move your <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> file to one of them. My <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> file is located at <code class="docutils literal notranslate"><span class="pre">/usr/local/bin/</span></code>, for reference.</p>
</div>
<div class="section" id="m1-arm-architecture-mac-os-catalina">
<h3>M1 ARM Architecture / Mac OS Catalina<a class="headerlink" href="#m1-arm-architecture-mac-os-catalina" title="Permalink to this headline">¶</a></h3>
<p>M1 Macs still have some issues with Python. If you run into issues with the Jupyter kernel around <code class="docutils literal notranslate"><span class="pre">psutil</span></code>, such as <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">psutil</span> <span class="pre">-</span> <span class="pre">mach-o</span> <span class="pre">file,</span> <span class="pre">but</span> <span class="pre">is</span> <span class="pre">an</span> <span class="pre">incompatible</span> <span class="pre">architecture</span> <span class="pre">(have</span> <span class="pre">'x86_64',</span> <span class="pre">need</span> <span class="pre">'arm64e'</span></code> or similar, this is due to the <code class="docutils literal notranslate"><span class="pre">psutil</span></code> wheels not being compatible with ARM, which is the architecture the newer Mac M1 processors use. You can confirm this is the issue by running the python CLI and importing <code class="docutils literal notranslate"><span class="pre">psutil</span></code>, which will fail: <code class="docutils literal notranslate"><span class="pre">python3</span></code>, <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">psutil</span></code>. Hopefully <a class="reference external" href="https://github.com/giampaolo/psutil/issues/1954">this PR fix</a> will be merged for <code class="docutils literal notranslate"><span class="pre">psutil</span></code> soon. Until then, you can fix this issue by uninstalling and reinstalling <code class="docutils literal notranslate"><span class="pre">psutil</span></code>, and building from scratch instead:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">shell</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">uninstall</span> <span class="pre">psutil</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--no-binary</span> <span class="pre">:all:</span> <span class="pre">psutil</span></code>
Now try <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">run</span> <span class="pre">jupyter</span> <span class="pre">lab</span></code> and navigating to a notebook file - hopefully your kernel will not crash.</p></li>
</ul>
<p>Mac users may also need to overcome a security issue with <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code>. After adding <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> to your path, right click the executable and choose “Open”. This will open a security dialog which allows you to trust <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> manually. If you don’t do this, you may not be able to use it in your notebook as that trust dialog will not appear when <code class="docutils literal notranslate"><span class="pre">geckodriver</span></code> is first called by a script.</p>
</div>
</div>
<div class="section" id="using-these-materials">
<h2>Using these materials<a class="headerlink" href="#using-these-materials" title="Permalink to this headline">¶</a></h2>
<p>With the repository downloaded, you’ll find all of the files used in the workshop in the <code class="docutils literal notranslate"><span class="pre">book</span></code> directory, which is also what powers this site. You don’t need to run anything for the first section on the Chrome Scraper extension, but starting with the section on <code class="docutils literal notranslate"><span class="pre">requests</span></code>, you’ll want to run the corresponding Python notebook on your own system. They are numbered in the order that we’ll use them in the workshop.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="01_scraperChrome.html">Chrome Scraper Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_requests.html">Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_beautifulSoup.html">Beautiful Soup</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_selenium.html">Selenium</a></li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='right-next' id="next-link" href="01_scraperChrome.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chrome Scraper Tool</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Jeremy Guillette<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>